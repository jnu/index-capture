/* Copyright 2012 Joseph Nudell Released under GNU Lesser GPL v. 3 See http://jnu.github.com/index-capture for details */
window.BS={loadScript:function(a,b,c){if(typeof c=="undefined")c=null;var d=document.getElementsByTagName("head")[0];var e=document.createElement("script");e.src=a;var f=false;e.onload=e.onreadystatechange=function(){if(!f&&(!this.readyState||this.readyState=="loaded"||this.readyState=="complete")){f=true;b(c);e.onload=e.onreadystatechange=null;d.removeChild(e)}};d.appendChild(e)},loadStyle:function(a){var b=document.createElement("link");b.setAttribute("rel","stylesheet");b.setAttribute("href",a);document.getElementsByTagName("head")[0].appendChild(b);return},_installJQuery:function(a){if(typeof BS.bsJQI=="undefined"||!BS.bsJQI){BS.$=window.$;BS.jQuery=window.jQuery;if(typeof BS.old$!="undefined"){window.jQuery=BS.oldjQuery;window.$=BS.old$}BS.bsJQI=true}a()},_installJQueryPlugin:function(a){BS.$=window.$;BS.jQuery=window.jQuery;window.jQuery=BS.oldjQuery;window.$=BS.old$;a()},loadJQuery:function(a,b){var c="http://ajax.googleapis.com/ajax/libs/jquery/"+a+"/jquery.min.js";if(typeof jQuery=="undefined"){BS.loadScript(c,BS._installJQuery,b)}else if(jQuery().jquery!=a||$().jquery!=a){BS.old$=$;BS.oldjQuery=jQuery;BS.loadScript(c,BS._installJQuery,b)}else{BS._installJQuery(b)}},loadJQueryUI:function(a,b,c){var d="http://ajax.googleapis.com/ajax/libs/jqueryui/"+a+"/jquery-ui.min.js";if(typeof BS.$=="undefined"){if(typeof c=="undefined")c="1.7.1";BS.loadJQuery(c,function(){BS.loadJQueryUI(a,b)})}else{BS.old$=window.$;BS.oldjQuery=window.jQuery;window.jQuery=BS.$;window.$=BS.$;BS.loadScript(d,BS._installJQueryPlugin,b)}},loadSWFObject:function(a,b){var c="http://ajax.googleapis.com/ajax/libs/swfobject/"+a+"/swfobject.js";BS.loadScript(c,b)},loadJQueryPlugin:function(a,b){BS.old$=$;BS.oldjQuery=jQuery;jQuery=BS.$;$=BS.$;BS.loadScript(a,BS._installJQueryPlugin,b)},loadLibs:function(a,b){if(a.length>0){var c=a[0];var d=function(){BS.loadLibs(a.splice(1),b)};if(/:/.test(c)){var e=c.split(/:/);if(e.length>2)e[1]=e.splice(1).join(":");switch(e[0]){case"jQuery":BS.loadJQuery(e[1],d);break;case"jQueryUI":BS.loadJQueryUI(e[1],d);break;case"SWFObject":BS.loadSWFObject(e[1],d);break;case"jQueryPlugin":BS.loadJQueryPlugin(e[1],d);break;default:BS.loadScript(e.join(":"),d)}}else{BS.loadScript(c,d)}}else{b()}},loadStyles:function(a){for(var b in a)BS.loadStyle(a[b])}}